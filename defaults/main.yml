---

icingaweb_version: 2.7.3

icingaweb_install_dir: /usr/share/icingaweb2

icingaweb_modules_disabled:
  - setup

icingaweb_modules_enabled:
  - monitoring

icingaweb_database_socket: ''

icingaweb_themes:
  - unicorn:
    name: unicorn
    src: https://github.com/Mikesch-mp/icingaweb2-theme-unicorn.git
    version: v1.0.2
    image: { name: "unicorn.png", "url": "http://i.imgur.com/SCfMd.png" }
  - batman-dark:
    name: batman-dark
    src: https://github.com/jschanz/icingaweb2-theme-batman-dark.git
    version: v1.0.0

# if users should not be allowed to change their theme
icingaweb_themes_disabled: true

# Can be set to 'Icinga', 'high-contrast', 'Winter', ‘colorblind’ or your own installed theme
icingaweb_themes_default: Icinga

# icingaweb_external_modules:
#
#   - graphite:
#     enabled: true
#     version: '1.1.0'
#     url: https://github.com/Icinga/icingaweb2-module-graphite/archive/v1.1.0.zip
#     host: ''
#
#   - grafana:
#     enabled: false
#     version: '1.3.6'
#     url: https://github.com/Mikesch-mp/icingaweb2-module-grafana/archive/v1.3.6.tar.gz
#     host: ''

# icingaweb_config_backend: db
# icingaweb_config_resource: icingaweb_db

icingaweb_preferences_store: db

# icingaweb_config:
#   backend: db
#   resource: icingaweb_db
#   mysql_host: 127.0.0.1
#   mysql_schemaname: icingaweb_config
#   mysql_username: icingaweb_config
#   mysql_password: icingaweb_config
#
# icinga2_ido:
#   backend: db
#   mysql_host: 127.0.0.1
#   mysql_schemaname: icinga2_ido
#   mysql_username: icinga2_ido
#   mysql_password: icinga2_ido
#

# /etc/icingaweb2/config.ini
# types are: 'ini' or 'db'
# for type 'db' use the config_resource: 'icingaweb' (see below)
icingaweb_config_backend: db
icingaweb_config_resource: icingaweb

# /etc/icingaweb2/authentication.ini
icingaweb_authentication: {}
#  auth_db:
#    backend: db
#    resource: icingaweb
#
#  auth_ldap:
#    resource: ldap
#    user_class: inetOrgPerson
#    user_name_attribute: uid
#    backend:  ldap
#    base_dn: dc=ldap,dc=cm,dc=local
#    domain: ldap.cm.local


# /etc/icingaweb2/groups.ini
icingaweb_groups_backend: db
icingaweb_groups_resource: icingaweb

# the 'icingaweb' is used for database import and should NOT CHANGED!

icingaweb_resources:
  db:
    icingaweb:
      type: db
      db: mysql
      host: localhost
      port: 3306
      dbname: "{{ icingaweb_auth_dba_database }}"
      username: "{{ icingaweb_auth_dba_username }}"
      password: "{{ icingaweb_auth_dba_password }}"
      prefix: icingaweb_
      charset: utf8
  ldap: {}
  ssh: {}

icingaweb_auth_backend: "{{ icingaweb_resources.db.icingaweb }}"

icingaweb_users:
  admin:
    password: admin

icingaweb_roles:
  - name: 'local admins'
    users:
      - admin
    permissions: '*'

# API connection

icingaweb_commandtransport:
  icinga2:
    transport: api
    host: localhost
    port: 5665
    username: root
    password: icinga2

icingaweb_dependencies:
  - jq
  # attention ... use the right PHP version!
  # - php-ldap

icingaweb_module:
  monitoring:
    security:
      protected_customvars:
        - '*http_auth_pair*'
        - '*password*'
